---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "athenz_policy Resource - terraform-provider-athenz"
subcategory: ""
description: |-
  The policy resource provides an Athenz policy resource.
---

# athenz_policy (Resource)

`athenz_policy` provides an Athenz policy resource.

## Example Usage

IMPORTANT NOTE: please do NOT use json syntax but only hcl syntax

```hcl
resource "athenz_policy" "foo_policy" {
  name = "foo"
  domain = "some_domain"
  assertion {
      effect = "ALLOW"
      action = "some_action"
      role = "some_role_name"
      resource = "some_domain:some_resource"
  }
  assertion {
    effect = "ALLOW"
    action = "SOME_ACTION"
    role = "some_role_name"
    resource = "some_domain:some_resource"
    case_sensitive = true
  }
  audit_ref = "create policy"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `domain` (String) Name of the domain that policy belongs to
- `name` (String) Name of the policy

### Optional

- `assertion` (Block Set) A set of assertions that govern usage of resources. where <assertion\> is <effect\> <action\> to <role\> on <resource\>. (see [below for nested schema](#nestedblock--assertion))
- `audit_ref` (String)
- `tags` (Map of String)

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--assertion"></a>
### Nested Schema for `assertion`

Required:

- `action` (String) - The action is the domain administrator defined action available for the resource (e.g. read, write, delete).
- `effect` (String) - The value effect must be either ALLOW or DENY.
- `resource` (String) - The resource is the YRN of the resource this assertion applies to. MUST provide fully qualified name: `<domain name>:<resource name>`
- `role` (String) - The name of the role this assertion applies to. MUST be the role name only (without the prefix `<domain name>:role`)

Optional:

- `case_sensitive` (Boolean, Default = false) If true, action and resource will be case-sensitive.
- `condition` (Block Set, Max: 2) (see [below for nested schema](#nestedblock--assertion--condition))

Read-Only:

- `id` (Number) The ID of this resource.

<a id="nestedblock--assertion--condition"></a>
### Nested Schema for `assertion.condition`

Required:

- `enforcementstate` (Block Set, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--assertion--condition--enforcementstate))
- `instances` (Block Set, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--assertion--condition--instances))
- `scopeall` (Block Set, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--assertion--condition--scopeall))
- `scopeaws` (Block Set, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--assertion--condition--scopeaws))
- `scopeonprem` (Block Set, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--assertion--condition--scopeonprem))

Read-Only:

- `id` (Number) The ID of this resource.

<a id="nestedblock--assertion--condition--enforcementstate"></a>
### Nested Schema for `assertion.condition.enforcementstate`

Required:

- `value` (String)

Optional:

- `operator` (Number)


<a id="nestedblock--assertion--condition--instances"></a>
### Nested Schema for `assertion.condition.instances`

Required:

- `value` (String)

Optional:

- `operator` (Number)


<a id="nestedblock--assertion--condition--scopeall"></a>
### Nested Schema for `assertion.condition.scopeall`

Required:

- `value` (String)

Optional:

- `operator` (Number)


<a id="nestedblock--assertion--condition--scopeaws"></a>
### Nested Schema for `assertion.condition.scopeaws`

Required:

- `value` (String)

Optional:

- `operator` (Number)


<a id="nestedblock--assertion--condition--scopeonprem"></a>
### Nested Schema for `assertion.condition.scopeonprem`

Required:

- `value` (String)

Optional:

- `operator` (Number)
