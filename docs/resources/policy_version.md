---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "athenz_policy_version Resource - terraform-provider-athenz"
subcategory: ""
description: |-
  The policy version resource provides an Athenz policy with all its versions resource.
---

# athenz_policy_version (Resource)

`athenz_policy_version` provides an Athenz policy resource with all of its versions.

## Example Usage

IMPORTANT NOTE: please do NOT use json syntax but only hcl syntax

```hcl
resource "athenz_policy_version" "policy_with_version" {
  name = "with_version"
  domain = "some_domain"
  active_version = "version1"
  version {
      version_name = "version1"
      assertion {
          effect = "ALLOW"
          action = "*"
          role = "role1"
          resource = "some_domain:resource1"
        }
    }
  version {
      version_name = "version2"
      assertion {
          effect = "ALLOW"
          action = "*"
          role = "role2"
          resource = "some_domain:RESOURCE2"
          case_sensitive = true
      }
      assertion {
          effect = "DENY"
          action = "PLAY"
          role = "role2"
          resource = "some_domain:resource2"
          case_sensitive = true
      }
    }
  audit_ref = "create policy"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `active_version` (String) The active version of the policy. Must match one of the version name defined un the resource
- `domain` (String) Name of the domain that policy belongs to
- `name` (String) Name of the policy
- `version` (Block Set, Min: 1) - A set of policy versions (see [below for nested schema](#nestedblock--version))

### Optional

- `audit_ref` (String)

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--version"></a>
### Nested Schema for `version`

Required:

- `version_name` (String) - The version name.

Optional:

- `assertion` (Block Set) - A set of assertions that govern usage of resources. where <assertion\> is <effect\> <action\> to <role\> on <resource\>. (see [below for nested schema](#nestedblock--version--assertion))

<a id="nestedblock--version--assertion"></a>
### Nested Schema for `version.assertion`

Required:

- `action` (String) - The action is the domain administrator defined action available for the resource (e.g. read, write, delete).
- `effect` (String) - The value effect must be either ALLOW or DENY.
- `resource` (String) - The resource is the YRN of the resource this assertion applies to. MUST provide fully qualified name: `<domain name>:<resource name>`
- `role` (String) - The name of the role this assertion applies to. MUST be the role name only (without the prefix `<domain name>:role`).

Optional:

- `case_sensitive` (Boolean, Default = false) If true, action and resource will be case-sensitive.
- `condition` (Block Set, Max: 2) (see [below for nested schema](#nestedblock--version--assertion--condition))

Read-Only:

- `id` (Number) The ID of this resource.

<a id="nestedblock--version--assertion--condition"></a>
### Nested Schema for `version.assertion.condition`

Required:

- `enforcementstate` (Block Set, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--version--assertion--condition--enforcementstate))
- `instances` (Block Set, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--version--assertion--condition--instances))
- `scopeall` (Block Set, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--version--assertion--condition--scopeall))
- `scopeaws` (Block Set, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--version--assertion--condition--scopeaws))
- `scopeonprem` (Block Set, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--version--assertion--condition--scopeonprem))

Read-Only:

- `id` (Number) The ID of this resource.

<a id="nestedblock--version--assertion--condition--enforcementstate"></a>
### Nested Schema for `version.assertion.condition.enforcementstate`

Required:

- `value` (String)

Optional:

- `operator` (Number)


<a id="nestedblock--version--assertion--condition--instances"></a>
### Nested Schema for `version.assertion.condition.instances`

Required:

- `value` (String)

Optional:

- `operator` (Number)


<a id="nestedblock--version--assertion--condition--scopeall"></a>
### Nested Schema for `version.assertion.condition.scopeall`

Required:

- `value` (String)

Optional:

- `operator` (Number)


<a id="nestedblock--version--assertion--condition--scopeaws"></a>
### Nested Schema for `version.assertion.condition.scopeaws`

Required:

- `value` (String)

Optional:

- `operator` (Number)


<a id="nestedblock--version--assertion--condition--scopeonprem"></a>
### Nested Schema for `version.assertion.condition.scopeonprem`

Required:

- `value` (String)

Optional:

- `operator` (Number)
