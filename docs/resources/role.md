---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "athenz_role Resource - terraform-provider-athenz"
subcategory: ""
description: |-
  The role resource provides an Athenz role resource.
---

# athenz_role (Resource)

`athenz_role` provides an Athenz role resource.

## Example Usage \*\*Deprecated** (please use as explained in the second example)

```hcl
resource "athenz_role" "foo_role" {
  name = "some_name"
  domain = "some_domain"
  members = ["domain1.user1", "domain2.user2"]
  audit_ref = "create role"
  tags = {
    key1 = "val1,val2"
    key2 = "val3,val4"
  }
  
}
```

## Example Usage

IMPORTANT NOTE: please do NOT use json syntax but only hcl syntax

```hcl
resource "athenz_role" "foo_role" {
  name = "some_name"
  domain = "some_domain"
  member {
    name = "domain1.user1"
    expiration = "2022-12-29 23:59:59"
    review = "2023-12-29 23:59:59"
  }
  member {
    name = "domain2.user2"
    expiration = "2022-12-29 23:59:59"
    review = "2023-12-29 23:59:59"
  }
  member {
    name = "domain3.user3"
    expiration = "2022-12-29 23:59:59"
    review = "2023-12-29 23:59:59"
  }
  settings {
    token_expiry_mins = 60
    cert_expiry_mins = 60
    user_expiry_days = 7
    user_review_days = 7
    group_expiry_days = 14
    group_review_days = 14
    service_expiry_days = 21
    service_review_days = 21
  }
  audit_ref = "create role"
  tags = {
    key1 = "val1,val2"
    key2 = "val3,val4"
  }
  
}
```

## Example Delegated Role Usage

```hcl
resource "athenz_role" "foo_role" {
  name = "some_name"
  domain = "some_domain"
  trust = "some_delegated_domain"
  audit_ref = "create delegated role"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `domain` (String) Name of the domain that role belongs to
- `name` (String) Name of the role

### Optional

- `audit_ref` (String, Default = "done by terraform provider")  string containing audit specification or ticket number.
- `last_reviewed_date` (String) The last reviewed timestamp for the role
- `member` (Block Set) A set of Athenz principal members (see [below for nested schema](#nestedblock--member))
- `members` (Set of String, Deprecated) \*\*Deprecated** use member attribute instead (Optional) List of Athenz principal members. must be in this format: `user.<userid> or <domain>.<service> or <domain>:group.<group>`.
- `settings` (Block Set, Max: 1) A map of advanced settings with the following options (see [below for nested schema](#nestedblock--settings))
- `tags` (Map of String) - Map of tags. The kay is the tag-name and value is the tag-values are represented as a string with a comma separator. e.g. key1 = "val1,val2", this will be converted to: key1 = ["val1", "val2"]
- `trust` (String) The domain, which this role is trusted to.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--member"></a>
### Nested Schema for `member`

Required:

- `name` (String) - The name of the Athenz principal member. must be in this format: `user.<userid> or <domain>.<service> or <domain>:group.<group>`.

Optional:

- `expiration` (String) - The expiration time in UTC of the Athenz principal member. must be in this format: `<yyyy>-<mm>-<dd> <hh>:<MM>:<ss>`
- `review` (String) - The review time in UTC of the Athenz principal member. must be in this format: `<yyyy>-<mm>-<dd> <hh>:<MM>:<ss>`


<a id="nestedblock--settings"></a>
### Nested Schema for `settings`

Optional:

- `cert_expiry_mins` (Number) Certs issued for this role will have specified max timeout in mins
- `group_expiry_days` (Number) all group members in the role will have specified max expiry days
- `group_review_days` (Number) all group members in the role will have specified max review reminder days
- `max_members` (Number) Max number of principals in the role
- `service_expiry_days` (Number) all services in the role will have specified max expiry days
- `service_review_days` (Number) all service members in the role will have specified max review reminder days
- `token_expiry_mins` (Number) tokens issued for this role will have specified max timeout in mins
- `user_expiry_days` (Number) all user members in the role will have specified max expiry days
- `user_review_days` (Number) all user members in the role will have specified max review reminder days
