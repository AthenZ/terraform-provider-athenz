---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "athenz_self_serve_role_members Resource - terraform-provider-athenz"
subcategory: ""
description: |-
  The athenz_self_serve_role_members resource provides support for managing members of an existing athenz role, but only manages members defined in Terraform and ignores externally managed members
---

# athenz_self_serve_role_members (Resource)

`athenz_self_serve_role_members` provides an Athenz role resource that only manages members defined in Terraform configuration. Unlike the regular `athenz_role_members` resource, this resource does not sync with or affect members that were added outside of Terraform (e.g., through the UI, API, or other tools).

## Key Differences from athenz_role_members

- **Read Operation**: Only reads members that are defined in the Terraform state, not all members in the system
- **Delete Operation**: Only removes members that are defined in the Terraform state, leaving externally managed members untouched
- **State Management**: Maintains a clean separation between Terraform-managed and externally managed members

This resource is particularly useful in environments where:
- Multiple teams or tools manage role members
- You want to avoid conflicts between Terraform and manual member management
- You need to ensure Terraform only manages specific members without affecting others

## Example Usage

IMPORTANT NOTE: please do NOT use json syntax but only hcl syntax

```hcl
resource "athenz_self_serve_role_members" "foo_role" {
  name = "some_name"
  domain = "some_domain"
  member {
    name = "domain1.user1"
    expiration = "2022-12-29 23:59:59"
    review = "2023-12-29 23:59:59"
  }
  member {
    name = "domain2.user2"
    expiration = "2022-12-29 23:59:59"
    review = "2023-12-29 23:59:59"
  }
  member {
    name = "domain3.user3"
    expiration = "2022-12-29 23:59:59"
    review = "2023-12-29 23:59:59"
  }
  audit_ref = "manage role membership"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `domain` (String) Name of the domain that role belongs to
- `name` (String) Name of the role

### Optional

- `audit_ref` (String, Default = "done by terraform provider")  string containing audit specification or ticket number.
- `member` (Block Set) A set of Athenz principal members (only manages members defined in Terraform) (see [below for nested schema](#nestedblock--member))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--member"></a>
### Nested Schema for `member`

Required:

- `name` (String) - The name of the Athenz principal member. must be in this format: `user.<userid> or <domain>.<service> or <domain>:group.<group>`.

Optional:

- `expiration` (String) - The expiration time in UTC of the Athenz principal member. must be in this format: `<yyyy>-<mm>-<dd> <hh>:<MM>:<ss>`
- `review` (String) - The review time in UTC of the Athenz principal member. must be in this format: `<yyyy>-<mm>-<dd> <hh>:<MM>:<ss>` 